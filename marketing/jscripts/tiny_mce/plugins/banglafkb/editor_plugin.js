tinyMCE.importPluginLanguagePack('banglafkb','en');var bn_carry='';var bn_old_len=0;var bn_carry2="";var bn_bangla="";var bn_tempBangla="";var bn_kbmode='eng';var bn_lastcarry="";var phonetic=new Array();var probhat=new Array();var unijoy=new Array();var inscript=new Array();var inscriptaltgr=new Array();var shift=false;phonetic['0']='\u09e6';phonetic['1']='\u09e7';phonetic['2']='\u09e8';phonetic['3']='\u09e9';phonetic['4']='\u09ea';phonetic['5']='\u09eb';phonetic['6']='\u09ec';phonetic['7']='\u09ed';phonetic['8']='\u09ee';phonetic['9']='\u09ef';phonetic['i']='\u09BF';phonetic['I']='\u0987';phonetic['ii']='\u09C0';phonetic['II']='\u0988';phonetic['e']='\u09C7';phonetic['E']='\u098F';phonetic['U']='\u0989';phonetic['u']='\u09C1';phonetic['uu']='\u09C2';phonetic['UU']='\u098A';phonetic['r']='\u09B0';phonetic['WR']='\u098B';phonetic['a']='\u09BE';phonetic['A']='\u0986';phonetic['ao']='\u0985';phonetic['s']='\u09B8';phonetic['t']='\u099f';phonetic['k']='\u0995';phonetic['K']='\u0996';phonetic['kh']='\u0996';phonetic['n']='\u09A8';phonetic['N']='\u09A3';phonetic['T']='\u09A4';phonetic['Th']='\u09A5';phonetic['d']='\u09A1';phonetic['dh']='\u09A2';phonetic['b']='\u09AC';phonetic['bh']='\u09AD';phonetic['v']='\u09AD';phonetic['R']='\u09DC';phonetic['Rh']='\u09DD';phonetic['g']='\u0997';phonetic['G']='\u0998';phonetic['gh']='\u0998';phonetic['h']='\u09B9';phonetic['NG']='\u099E';phonetic['j']='\u099C';phonetic['J']='\u099D';phonetic['jh']='\u099D';phonetic['c']='\u099A';phonetic['ch']='\u099B';phonetic['C']='\u099B';phonetic['th']='\u09A0';phonetic['p']='\u09AA';phonetic['f']='\u09AB';phonetic['ph']='\u09AB';phonetic['D']='\u09A6';phonetic['Dh']='\u09A7';phonetic['z']='\u09AF';phonetic['y']='\u09DF';phonetic['Ng']='\u0999';phonetic['ng']='\u0982';phonetic['l']='\u09B2';phonetic['m']='\u09AE';phonetic['sh']='\u09B6';phonetic['S']='\u09B7';phonetic['O']='\u0993';phonetic['ou']='\u099C';phonetic['OU']='\u0994';phonetic['Ou']='\u0994';phonetic['Oi']='\u0990';phonetic['OI']='\u0990';phonetic['tt']='\u09CE';phonetic['H']='\u0983';phonetic["."]="\u0964";phonetic[".."]=".";phonetic['HH']='\u09CD'+'\u200c';phonetic['NN']='\u0981';phonetic['Y']='\u09CD'+'\u09AF';phonetic['w']='\u09CD'+'\u09AC';phonetic['W']='\u09C3';phonetic['wr']='\u09C3';phonetic['x']="\u0995"+'\u09CD'+'\u09B8';phonetic['rY']=phonetic['r']+'\u200C'+'\u09CD'+'\u09AF';phonetic['L']=phonetic['l'];phonetic['Z']=phonetic['z'];phonetic['P']=phonetic['p'];phonetic['V']=phonetic['v'];phonetic['B']=phonetic['b'];phonetic['M']=phonetic['m'];phonetic['V']=phonetic['v'];phonetic['X']=phonetic['x'];phonetic['V']=phonetic['v'];phonetic['F']=phonetic['f'];phonetic['vowels']='aIiUuoiiouueEiEu';unijoy['0']='\u09e6';unijoy['1']='\u09e7';unijoy['2']='\u09e8';unijoy['3']='\u09e9';unijoy['4']='\u09ea';unijoy['5']='\u09eb';unijoy['6']='\u09ec';unijoy['7']='\u09ed';unijoy['8']='\u09ee';unijoy['9']='\u09ef';unijoy['j']='\u0995';unijoy['d']='\u09BF';unijoy['gd']='\u0987';unijoy['D']='\u09C0';unijoy['gD']='\u0988';unijoy['c']='\u09C7';unijoy['gc']='\u098F';unijoy['gs']='\u0989';unijoy['s']='\u09C1';unijoy['S']='\u09C2';unijoy['gS']='\u098A';unijoy['v']='\u09B0';unijoy['a']='\u098B';unijoy['f']='\u09BE';unijoy['gf']='\u0986';unijoy['F']='\u0985';unijoy['n']='\u09B8';unijoy['t']='\u099f';unijoy['J']='\u0996';unijoy['b']='\u09A8';unijoy['B']='\u09A3';unijoy['k']='\u09A4';unijoy['K']='\u09A5';unijoy['e']='\u09A1';unijoy['E']='\u09A2';unijoy['h']='\u09AC';unijoy['H']='\u09AD';unijoy['p']='\u09DC';unijoy['P']='\u09DD';unijoy['o']='\u0997';unijoy['O']='\u0998';unijoy['i']='\u09B9';unijoy['I']='\u099E';unijoy['u']='\u099C';unijoy['U']='\u099D';unijoy['y']='\u099A';unijoy['Y']='\u099B';unijoy['T']='\u09A0';unijoy['r']='\u09AA';unijoy['R']='\u09AB';unijoy['l']='\u09A6';unijoy['L']='\u09A7';unijoy['w']='\u09AF';unijoy['W']='\u09DF';unijoy['q']='\u0999';unijoy['Q']='\u0982';unijoy['V']='\u09B2';unijoy['m']='\u09AE';unijoy['M']='\u09B6';unijoy['N']='\u09B7';unijoy['gx']='\u0993';unijoy['X']='\u09CC';unijoy['gX']='\u0994';unijoy['gC']='\u0990';unijoy['\\']='\u0983';unijoy['|']='\u09CE';unijoy["G"]="\u0964";unijoy['g']=' ';unijoy['&']='\u0981';unijoy['Z']='\u09CD'+'\u09AF';unijoy['gh']='\u09CD'+'\u09AC';unijoy['ga']='\u098B';unijoy['a']='\u09C3';unijoy['vZ']=unijoy['v']+'\u200d'+'\u09CD'+'\u09AF';unijoy['z']='\u09CD'+unijoy['v'];unijoy['x']='\u09CB';unijoy['C']='\u09C8';probhat['`']='\u200d';probhat['~']='~';probhat['1']='\u09e7';probhat['2']='\u09e8';probhat['3']='\u09e9';probhat['4']='\u09ea';probhat['5']='\u09eb';probhat['6']='\u09ec';probhat['7']='\u09ed';probhat['8']='\u09ee';probhat['9']='\u09ef';probhat['0']='\u09e6';probhat['-']='-';probhat['=']='=';probhat['!']="!";probhat['@']='@';probhat['#']='#';probhat['$']='\u09f3';probhat['%']='%';probhat['^']='^';probhat['&']='\u099e';probhat['*']='\u09ce';probhat['(']='(';probhat[')']=')';probhat['_']='_';probhat['+']='+';probhat['q']='\u09a6';probhat['Q']='\u09a7';probhat['w']='\u09c2';probhat['W']='\u098a';probhat['e']='\u09c0';probhat['E']='\u0988';probhat['r']='\u09b0';probhat['R']='\u09dc';probhat['t']='\u099f';probhat['T']='\u09a0';probhat['y']='\u098f';probhat['Y']='\u0990';probhat['u']='\u09c1';probhat['U']='\u0989';probhat['i']='\u09bf';probhat['I']='\u0987';probhat['o']='\u0993';probhat['O']='\u0994';probhat['p']='\u09aa';probhat['P']='\u09ab';probhat['[']='\u09c7';probhat['{']='\u09c8';probhat[']']='\u09cb';probhat['}']='\u09cc';probhat['\\']='\u200C';probhat['|']='\u0965';probhat['a']='\u09be';probhat['A']='\u0985';probhat['s']='\u09b8';probhat['S']='\u09b7';probhat['d']='\u09a1';probhat['D']='\u09a2';probhat['f']='\u09a4';probhat['F']='\u09a5';probhat['g']='\u0997';probhat['G']='\u0998';probhat['h']='\u09b9';probhat['H']='\u0983';probhat['j']='\u099c';probhat['J']='\u099d';probhat['k']='\u0995';probhat['K']='\u0996';probhat['l']='\u09b2';probhat['L']='\u0982';probhat[';']=';';probhat[':']=':';probhat['z']='\u09df';probhat['Z']='\u09af';probhat['x']='\u09b6';probhat['X']='\u09dd';probhat['c']='\u099a';probhat['C']='\u099b';probhat['v']='\u0986';probhat['V']='\u098b';probhat['b']='\u09ac';probhat['B']='\u09ad';probhat['n']='\u09a8';probhat['N']='\u09a3';probhat['m']='\u09ae';probhat['M']='\u0999';probhat[',']=',';probhat['<']='\u09c3';probhat['.']='\u0964';probhat[".."]='\u0965';probhat['>']='\u0981';probhat['/']='\u09cd';probhat['?']='?';inscript['`']='\u200C';inscript['~']='\u200D';inscript['0']='\u09e6';inscript['1']='\u09e7';inscript['2']='\u09e8';inscript['3']='\u09e9';inscript['4']='\u09ea';inscript['5']='\u09eb';inscript['6']='\u09ec';inscript['7']='\u09ed';inscript['8']='\u09ee';inscript['9']='\u09ef';inscript['-']='-';inscript['=']='\u09C3';inscript['!']="!";inscript['@']='@';inscript['#']='#';inscript['$']='\u09F2';inscript['%']='"';inscript['^']='\'';inscript['&']='&';inscript['*']='*';inscript['(']='(';inscript[')']=')';inscript['_']='\u0983';inscript['+']='\u098B';inscript['q']='\u09CC';inscript['w']='\u09C8';inscript['e']='\u09BE';inscript['r']='\u09C0';inscript['t']='\u09C2';inscript['y']='\u09AC';inscript['u']='\u09B9';inscript['i']='\u0997';inscript['o']='\u09A6';inscript['p']='\u099C';inscript['[']='\u09A1';inscript[']']='\u09BC';inscript['Q']='\u0994';inscript['W']='\u0990';inscript['E']='\u0986';inscript['R']='\u0988';inscript['T']='\u098A';inscript['Y']='\u09AD';inscript['U']='\u0999';inscript['I']='\u0998';inscript['O']='\u09A7';inscript['P']='\u099D';inscript['{']='\u09A2';inscript['}']='\u099E';inscript['a']='\u09CB';inscript['s']='\u09C7';inscript['f']='\u09BF';inscript['g']='\u09C1';inscript['h']='\u09AA';inscript['j']='\u09B0';inscript['k']='\u0995';inscript['l']='\u09A4';inscript[';']='\u099A';inscript['\'']='\u099F';inscript['A']='\u0993';inscript['S']='\u098F';inscript['D']='\u0985';inscript['F']='\u0987';inscript['G']='\u0989';inscript['H']='\u09AB';inscript['J']='\u09CE';inscript['K']='\u0996';inscript['L']='\u09A5';inscript[':']='\u099B';inscript['"']='\u09A0';inscript['z']='\u09CD'+'\u09B0';inscript['x']='\u0982';inscript['c']='\u09AE';inscript['v']='\u09A8';inscript['b']='\u09F1';inscript['n']='\u09B2';inscript['m']='\u09B8';inscript[',']=',';inscript['.']='.';inscript['//']='\u09AF';inscript['Z']='\u09B0'+'\u09CD';inscript['X']='\u0981';inscript['C']='\u09A3';inscript['V']='\u0965';inscript['B']='\u09F0';inscript['N']='\u09CD'+'\u09AF';inscript['M']='\u09B6';inscript['<']='\u09B7';inscript['>']='\u0964';inscript['?']='\u09DF';var TinyMCE_KeywordPlugin={getInfo:function(){return{longname:'Banglafkb',author:'Sabuj Kundu aka manchumahara',authorurl:'http://blog.manchumahara.com',infourl:'http://blog.manchumahara.com',version:"1.0"}},getControlHTML:function(cn){switch(cn){case"banglafkb":var html='<fieldset>';var html='<select id="{$editor_id}_bnkeyboardSelect" name="{$editor_id}_bnkeyboardSelect" onfocus="tinyMCE.addSelectAccessibility(event, this, window);" onchange="tinyMCE.execInstanceCommand(\'{$editor_id}\',\'bnKeyboardSelect\',false,this.options[this.selectedIndex].value); " class="mceSelectList"><option value="">{$lang_banglafkb_keyboard_default}</option>';html+='<option value="bnenglish">{$lang_banglafkb_keyboard_english}</option>';html+='<option value="bnphonetic">{$lang_banglafkb_keyboard_phonetic}</option>';html+='<option value="bnphonetici">{$lang_banglafkb_keyboard_phonetici}</option>';html+='<option value="bnunijoy">{$lang_banglafkb_keyboard_unijoy}</option>';html+='<option value="bnprobhat">{$lang_banglafkb_keyboard_probhat}</option>';html+='<option value="bninscript">{$lang_banglafkb_keybaord_inscript}</option>';html+='</select>';return html}return""},onChange:function(inst){},handleEvent:function(e){switch(e.type){case"keypress":if(bn_kbmode!='eng'){var keyCode=(e.keyCode)?e.keyCode:e.which;var bn_char_e=String.fromCharCode(keyCode);if(keyCode==8||keyCode==32||keyCode==13){bn_carry=" ";bn_old_len=1;return}bn_lastcarry=bn_carry;bn_carry+=""+bn_char_e;if(bn_kbmode=='phni'){if((phonetic['vowels'].indexOf(bn_lastcarry)!=-1&&phonetic['vowels'].indexOf(bn_char_e)!=-1)||(bn_lastcarry==" "&&phonetic['vowels'].indexOf(bn_char_e)!=-1)){if(bn_carry=='ii'||bn_carry=='uu'){bn_carry=bn_lastcarry+bn_char_e}else{bn_char_e=bn_char_e.toUpperCase();bn_carry=bn_lastcarry+bn_char_e}}}bn_bangla=_bn_Parsekeyboardinput(bn_carry);bn_tempBangla=_bn_Parsekeyboardinput(bn_char_e);if(bn_tempBangla==".."||bn_bangla==".."){return false}if((bn_char_e=="+"||bn_char_e=="="||bn_char_e=="`")&&(bn_kbmode=="phn"||bn_kbmode=="phni")){if((bn_carry=="++"||bn_carry=="=="||bn_carry=="``")&&(bn_kbmode=="phn"||bn_kbmode=="phni")){_bn_insertJointAtCursor(bn_char_e,bn_old_len);e.returnValue=false;e.preventDefault();bn_old_len=1;return false}_bn_insertAtCursor('\u09CD');e.returnValue=false;e.preventDefault();bn_old_len=1;bn_carry2=bn_carry;bn_carry="+";return false}if(bn_char_e=="g"&&bn_kbmode=="ujy"){if(bn_carry=="gg"){_bn_insertJointAtCursor('\u09CD'+'\u200c',bn_old_len);e.returnValue=false;e.preventDefault();bn_old_len=1;return false}_bn_insertAtCursor("\u09CD");e.returnValue=false;e.preventDefault();bn_old_len=1;bn_carry="g";return false}if(bn_char_e=="d"&&bn_kbmode=="ins"){_bn_insertAtCursor("\u09CD");e.returnValue=false;e.preventDefault();bn_old_len=1;bn_carry2=bn_carry;bn_carry="d";return false}if(bn_char_e=="/"&&bn_kbmode=='phb'){if(bn_carry=="//"){_bn_insertJointAtCursor("/",bn_old_len);e.returnValue=false;e.preventDefault();bn_old_len=1;return false}_bn_insertAtCursor("\u09CD");e.returnValue=false;e.preventDefault();bn_old_len=1;bn_carry2=bn_carry;bn_carry="/";return false}else if(bn_old_len==0){_bn_insertJointAtCursor(bn_bangla,0);bn_old_len=1;e.returnValue=false;e.preventDefault();return false}else if(((bn_char_e=='z'||bn_char_e=='Z')&&bn_carry2=="r+")&&(bn_kbmode=="phn"||bn_kbmode=="phni")){_bn_insertJointAtCursor('\u200C'+'\u09CD'+phonetic['z'],1);e.returnValue=false;e.preventDefault();bn_old_len=1;return false}else if(bn_char_e=='\\'&&bn_carry2=="jd"&&bn_kbmode=='ujy'){_bn_insertJointAtCursor('\u200C'+'\u09CD'+'\u09AF',1);e.returnValue=false;e.preventDefault();bn_old_len=1;return false}else if(bn_carry=="jM"&&bn_kbmode=="ins"){_bn_insertJointAtCursor(inscript['j']+'\u200C'+inscript['M'],bn_old_len);e.returnValue=false;e.preventDefault();bn_old_len=1;return false}else if(bn_carry=="ao"&&bn_kbmode=="phn"){_bn_insertJointAtCursor(phonetic['ao']?phonetic['ao']:'',bn_old_len);e.returnValue=false;e.preventDefault();bn_old_len=1;return false}else if(bn_carry=="Ao"&&bn_kbmode=="phni"){_bn_insertJointAtCursor(phonetic['ao']?phonetic['ao']:'',bn_old_len);e.returnValue=false;e.preventDefault();bn_old_len=1;return false}else if(bn_carry=="ii"&&(bn_kbmode=="phn"||bn_kbmode=="phni")){_bn_insertJointAtCursor(_bn_Parsekeyboardinput(bn_carry),1);e.returnValue=false;e.preventDefault();bn_old_len=1;return false}else if(bn_carry=="oi"&&bn_kbmode=="phn"){_bn_insertJointAtCursor('\u09C8',1);e.returnValue=false;e.preventDefault();bn_old_len=1;return false}else if(bn_carry=="oI"&&bn_kbmode=="phni"){_bn_insertJointAtCursor('\u09C8',bn_old_len);e.returnValue=false;e.preventDefault();bn_old_len=1;return false}else if(bn_char_e=="o"&&(bn_kbmode=="phn"||bn_kbmode=="phni")){bn_old_len=1;_bn_insertAtCursor('\u09CB');bn_carry="o";e.returnValue=false;e.preventDefault();return false}else if(bn_carry=="ou"&&bn_kbmode=="phn"){_bn_insertJointAtCursor("\u09CC",bn_old_len);e.returnValue=false;e.preventDefault();bn_old_len=1;return false}else if(bn_carry=="oU"&&bn_kbmode=="phni"){_bn_insertJointAtCursor("\u09CC",bn_old_len);e.returnValue=false;e.preventDefault();bn_old_len=1;return false}else if(bn_char_e=="A"&&bn_kbmode=="ujy"){_bn_insertAtCursor(unijoy['v']+'\u09CD');bn_old_len=1;return false}else if(bn_char_e=='Z'&&bn_carry2=="r/"&&bn_kbmode=="pbh"){_bn_insertJointAtCursor('\u200d'+probhat['/']+probhat['Z'],1);e.returnValue=false;e.preventDefault();bn_old_len=1;return false}else if((bn_bangla==""&&bn_tempBangla!="")){bn_bangla=bn_tempBangla;if(bn_bangla==""){bn_carry="";return}else{bn_carry=bn_char_e;_bn_insertAtCursor(bn_bangla);e.returnValue=false;e.preventDefault();bn_old_len=bn_bangla.length;return false}}else if(bn_bangla!=""){_bn_insertJointAtCursor(bn_bangla,bn_old_len);e.returnValue=false;e.preventDefault();bn_old_len=bn_bangla.length;return false}else{return false}}case"keydown":return false;case"keyup":return false}return true},execCommand:function(editor_id,element,command,user_interface,value){switch(command){case"bnKeyboardSelect":switch(value){case"bnenglish":bn_kbmode="eng";return true;case"bnphonetic":bn_kbmode="phn";return true;case"bnphonetici":bn_kbmode="phni";return true;case"bnunijoy":bn_kbmode="ujy";return true;case"bnprobhat":bn_kbmode="pbh";return true;case"bninscript":bn_kbmode="ins";return true}return true}return false},handleNodeChange:function(editor_id,node,undo_index,undo_levels,visual_aid,any_selection){}};function _bn_Parsekeyboardinput(myValue){switch(bn_kbmode){case'phn':return phonetic[myValue]?phonetic[myValue]:'';break;case'phni':return phonetic[myValue]?phonetic[myValue]:'';break;case'ujy':return unijoy[myValue]?unijoy[myValue]:'';break;case'pbh':return probhat[myValue]?probhat[myValue]:'';break;case'ins':return inscript[myValue]?inscript[myValue]:'';break;default:return''}}function _bn_insertJointAtCursor(myValue,len){if(tinyMCE.isGecko){if(tinyMCE.selectedInstance){rng=tinyMCE.selectedInstance.selection.getRng();rngNode=rng.commonAncestorContainer;if(rng.startOffset>=len){rng.setStart(rngNode,rng.startOffset-1*(len));tinyMCE.execCommand('mceInsertContent',false,myValue)}else if(rng.startOffset==0){rng.setStart(rngNode,rng.startOffset);tinyMCE.execCommand('mceInsertContent',false,myValue)}}}else if(tinyMCE.isIE){if(tinyMCE.selectedInstance){var rng=tinyMCE.selectedInstance.getDoc().selection.createRange();rng.moveStart('character',-1*(len));rng.select();tinyMCE.execCommand('mceInsertContent',false,myValue)}}}function _bn_insertAtCursor(myValue){tinyMCE.execCommand('mceInsertContent',false,myValue)}tinyMCE.addPlugin("banglafkb",TinyMCE_KeywordPlugin);